<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thabiso Zikalala">
<meta name="dcterms.date" content="2026-01-31">

<title>The Layout of Informal Settlements in Durban, KwaZulu-Natal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="index_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="index_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap-6a8e6d95bfcd174082ff54166b04dcf7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Layout of Informal Settlements in Durban, KwaZulu-Natal</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Thabiso Zikalala </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 31, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Access to safe and adequate sanitation is a human right that is linked to human dignity, environmental protection, a conducive environemnt that positively impacts the livelihood of every hhuman being in the world. As a results, it has been prioritised under Sustainable Development Goal 6 (SDG 6), which calls for equitable access to sanitation and hygiene for all by 2030 (United Nations, 2015). In South Africa, this has become a basic human right recognised through Section 24 of the constitution. However, rapid urbanisation and persistent socio-economic inequality have resulted in the continued growth of informal settlements, particularly in metropolitan municipalities such as eThekwini, where sanitation provision remains a critical service delivery challenge.</p>
<p>The municipaity of eThekwini recognised this challenge and was pressured by the need to address large sanitation backlogs in areas with high population density, informal housing, and difficult terrain. informal settlements were recognised and given communal ablution blocks (CABs) facilities, and on-site sanitation technologies such as ventilated improved pit (VIP) latrines (Roma et al., 2013; Buckley et al., 2008). The CABs and VIPs were built temporarilly whilst improving sanitation structures in Durban that will abe able to accomoadate the now desely populated areas as a results of city migration (Roma et al., 2013; Buckley et al., 2008).</p>
<p>The National Upgrading Support Programme (NUSP) in eThekwini Municipality has increasingly aligned its mission in increasing sanitation for the informal settlement and previously disadvantahed communities. This is a tailored approach that will consider site specific environmental risks, climate resilience, and long-term service sustainability (Roma &amp; Buckley, 2016). In line with SDG 6.2, municipal plans emphasise not only increased coverage, but also improving the quality of service delivery with more durable and safely managed sanitation systems.</p>
<p>The eThekwini municipality published its current status of sanitation provision within informal settlements in eThekwini in 2022. This is to be used through city planning in noting the types, distribution, and scale of sanitation services, and how future projects can be implemented in order to meet the objectives of SDG 6 in an urban informal settlement context.</p>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p>Data for this study was obtained from the Informal Settlement Programme dataset accessed via the <a href="https://gis-ethekwini.opendata.arcgis.com/datasets/c4a5c06d389b40a3ae49c714bc0c71c9_0/explore?location=-29.875500%2C30.927500%2C11&amp;showTable=true">eThekwini Open GIS DATA</a>. The eThekwini Open GIS Data platform is GIS database that focuses on the services provided at a municipal level that is open to the public. The dataset was provided in Microsoft Excel format. This data below contains asettlement-level information on the spatial distribution of informal settlements, estimated household counts, and access to basic services, including sanitation, within eThekwini Municipality. This data is to be used by the different municipality departments for future planning.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span> (here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"Data /raw/Durban_Informal_Settlement_Programme.csv"</span>) ,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 566 × 18
   OBJECTID NAME_OF_SE  ALT_NAME STREETNAME WARD_S PLANNING_U LATITUDE LONGITUDE
      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;
 1        1 Amatikwe    &lt;NA&gt;     MR93 North 56/108 Amatikwe   -2.97e14   3.09e14
 2        2 Congo Phas… Congo P… MR93 /MR9… 55/57  Inanda Co… -2.97e14   3.10e14
 3        3 Africa Ina… Africa   Curnick N… 55     Ohlange-A… -2.97e13   3.09e14
 4        4 Namibia     &lt;NA&gt;     Curnick N… 108/44 Inanda Na… -2.97e13   3.09e14
 5        5 Mshayazafe  &lt;NA&gt;     Sidudla R… 55     Mshayazaf… -2.97e14   3.09e14
 6        6 Ntuzuma - … &lt;NA&gt;     Ithendele… 44/43  Emachoben… -2.97e14   3.09e14
 7        7 Ntuzuma - … &lt;NA&gt;     121829 St… 44/43  Emachoben… -2.97e14   3.09e14
 8        8 Smithfield  &lt;NA&gt;     Smithfiel… 34     Sea Cow L… -2.98e14   3.10e14
 9        9 Johanna Ro… &lt;NA&gt;     Johanna R… 34     Sea Cow L… -2.98e14   3.10e14
10       10 Triumph/ M… &lt;NA&gt;     Triumph R… 34     Sea Cow L… -2.98e14   3.10e14
# ℹ 556 more rows
# ℹ 10 more variables: REGION &lt;chr&gt;, WATER_SUPP &lt;chr&gt;, SANITATION &lt;chr&gt;,
#   REFUSE &lt;chr&gt;, ELECTRIC_2 &lt;chr&gt;, UNIREFCODE &lt;chr&gt;, EST_HHC &lt;dbl&gt;,
#   NUSP_CAT &lt;chr&gt;, Shape__Area &lt;dbl&gt;, Shape__Length &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>eis_raw<span class="ot">&lt;-</span><span class="fu">read_csv</span> (here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"Data /raw/Durban_Informal_Settlement_Programme.csv"</span>) ,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>eis<span class="ot">&lt;-</span><span class="fu">read_csv</span> (here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"Data /raw/Durban_Informal_Settlement_Programme.csv"</span>) ,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sanitation_units<span class="ot">&lt;-</span> eis <span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">San_units=</span>Shape__Length<span class="sc">/</span><span class="dv">100</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanitation_units <span class="sc">|&gt;</span><span class="fu">relocate</span>(San_units,<span class="at">.after=</span>STREETNAME)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(ALT_NAME,<span class="at">.after=</span>LONGITUDE)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(WARD_S,<span class="at">.after=</span>LONGITUDE)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(ALT_NAME,<span class="at">.after=</span>LONGITUDE)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(SANITATION,<span class="at">.after=</span>STREETNAME)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(WATER_SUPP,<span class="at">.after=</span>PLANNING_U)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(ELECTRIC_2,<span class="at">.after=</span>WATER_SUPP)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(REGION,<span class="at">.after=</span>WATER_SUPP)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>sanunitable<span class="ot">&lt;-</span>sanunitable <span class="sc">|&gt;</span><span class="fu">relocate</span>(REFUSE,<span class="at">.after=</span>ELECTRIC_2)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>sansubset<span class="ot">&lt;-</span>sanunitable[<span class="dv">1</span><span class="sc">:</span><span class="dv">566</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sansubset2<span class="ot">&lt;-</span>sansubset<span class="sc">|&gt;</span><span class="fu">filter</span>(SANITATION<span class="sc">!=</span><span class="st">"TBC"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>sansubset3<span class="ot">&lt;-</span>sansubset2<span class="sc">|&gt;</span><span class="fu">filter</span>(WATER_SUPP<span class="sc">!=</span><span class="st">"TBC"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>sansubset4<span class="ot">&lt;-</span>sansubset3<span class="sc">|&gt;</span><span class="fu">filter</span>(ELECTRIC_2<span class="sc">!=</span><span class="st">"TBC"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sansubset5<span class="ot">&lt;-</span>sansubset4 <span class="sc">%&gt;%</span> <span class="fu">count</span>(SANITATION)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>sansubset5<span class="sc">|&gt;</span><span class="fu">count</span>(SANITATION)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 23 × 2
   SANITATION                            n
   &lt;chr&gt;                             &lt;int&gt;
 1 Ablutiion Facility                    1
 2 Ablution Facility                     1
 3 Ablution Facility &amp; Pit Privies       1
 4 Ablution Facility &amp; VIP               1
 5 Ablution Facility &amp; VIP toilets       1
 6 Ablution Facility &amp; VIPs              1
 7 Ablution Facility &amp; flush toilets     1
 8 Ablution Facilty                      1
 9 Ablution facilities &amp; Pit Privies     1
10 Ablution facility                     1
# ℹ 13 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sansubset5<span class="ot">&lt;-</span>sansubset5 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">SANITATION=</span><span class="fu">case_when</span>(SANITATION<span class="sc">==</span><span class="st">"VIPs"</span><span class="sc">~</span><span class="st">"VIP"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution Facility"</span><span class="sc">~</span><span class="st">"Ablution facility"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution Facilty"</span><span class="sc">~</span><span class="st">"Ablution facility"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution facillity"</span><span class="sc">~</span><span class="st">"Ablution facility"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution Facility &amp; VIP"</span><span class="sc">~</span><span class="st">"Ablution facility &amp; VIP"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablutiion Facility"</span><span class="sc">~</span><span class="st">"Ablution facility"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution Facility &amp; VIPs"</span><span class="sc">~</span><span class="st">"Ablution facility &amp; VIP"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution Facility &amp; VIP toilets"</span><span class="sc">~</span><span class="st">"Ablution facility &amp; VIP"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution facilities &amp; Pit Privies"</span><span class="sc">~</span><span class="st">"Ablution facility &amp; Pit privies"</span>,SANITATION<span class="sc">==</span><span class="st">"Ablution facility, Pit Privies"</span><span class="sc">~</span><span class="st">"Ablution facility &amp; Pit privies"</span>,<span class="at">.default =</span> SANITATION))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell" data-tal-cap="Types of sanitatioin systems provided in eThekwini municipality">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sansubset5<span class="sc">|&gt;</span><span class="fu">gt</span>()<span class="sc">|&gt;</span><span class="fu">tab_header</span>(<span class="at">title=</span><span class="st">"Informal Settlement in eThekwini"</span>,<span class="at">subtitle=</span><span class="st">"Informal settlement"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div id="tbl-sansubset5" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tal-cap="Types of sanitatioin systems provided in eThekwini municipality">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-sansubset5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1
</figcaption>
<div aria-describedby="tbl-sansubset5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="jvayvdhvhr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jvayvdhvhr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jvayvdhvhr thead, #jvayvdhvhr tbody, #jvayvdhvhr tfoot, #jvayvdhvhr tr, #jvayvdhvhr td, #jvayvdhvhr th {
  border-style: none;
}

#jvayvdhvhr p {
  margin: 0;
  padding: 0;
}

#jvayvdhvhr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jvayvdhvhr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jvayvdhvhr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jvayvdhvhr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jvayvdhvhr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jvayvdhvhr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvayvdhvhr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jvayvdhvhr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jvayvdhvhr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jvayvdhvhr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jvayvdhvhr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jvayvdhvhr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jvayvdhvhr .gt_spanner_row {
  border-bottom-style: hidden;
}

#jvayvdhvhr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jvayvdhvhr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jvayvdhvhr .gt_from_md > :first-child {
  margin-top: 0;
}

#jvayvdhvhr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jvayvdhvhr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jvayvdhvhr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jvayvdhvhr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jvayvdhvhr .gt_row_group_first td {
  border-top-width: 2px;
}

#jvayvdhvhr .gt_row_group_first th {
  border-top-width: 2px;
}

#jvayvdhvhr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvayvdhvhr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jvayvdhvhr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jvayvdhvhr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvayvdhvhr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvayvdhvhr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jvayvdhvhr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jvayvdhvhr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jvayvdhvhr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvayvdhvhr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jvayvdhvhr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvayvdhvhr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jvayvdhvhr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvayvdhvhr .gt_left {
  text-align: left;
}

#jvayvdhvhr .gt_center {
  text-align: center;
}

#jvayvdhvhr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jvayvdhvhr .gt_font_normal {
  font-weight: normal;
}

#jvayvdhvhr .gt_font_bold {
  font-weight: bold;
}

#jvayvdhvhr .gt_font_italic {
  font-style: italic;
}

#jvayvdhvhr .gt_super {
  font-size: 65%;
}

#jvayvdhvhr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jvayvdhvhr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jvayvdhvhr .gt_indent_1 {
  text-indent: 5px;
}

#jvayvdhvhr .gt_indent_2 {
  text-indent: 10px;
}

#jvayvdhvhr .gt_indent_3 {
  text-indent: 15px;
}

#jvayvdhvhr .gt_indent_4 {
  text-indent: 20px;
}

#jvayvdhvhr .gt_indent_5 {
  text-indent: 25px;
}

#jvayvdhvhr .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jvayvdhvhr div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="2" class="gt_heading gt_title gt_font_normal">Informal Settlement in eThekwini</td>
</tr>
<tr class="gt_heading even">
<td colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Informal settlement</td>
</tr>
<tr class="gt_col_headings header">
<th id="SANITATION" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">SANITATION</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility</td>
<td class="gt_row gt_right" headers="n">210</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution Facility &amp; Pit Privies</td>
<td class="gt_row gt_right" headers="n">21</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; VIP</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; VIP</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; VIP</td>
<td class="gt_row gt_right" headers="n">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution Facility &amp; flush toilets</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility</td>
<td class="gt_row gt_right" headers="n">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; Pit privies</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility</td>
<td class="gt_row gt_right" headers="n">4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; Pit Privies</td>
<td class="gt_row gt_right" headers="n">31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; Pit privies</td>
<td class="gt_row gt_right" headers="n">11</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; VIP</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility &amp; Pit privies</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Ablution facility</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Pit Latrine</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Pit Privies</td>
<td class="gt_row gt_right" headers="n">62</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Pit Privies&amp; water borne sew</td>
<td class="gt_row gt_right" headers="n">2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Pit Privies, VIP, Flush toilets</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">Pit privies</td>
<td class="gt_row gt_right" headers="n">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Planned Ablution Block</td>
<td class="gt_row gt_right" headers="n">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="SANITATION">VIP</td>
<td class="gt_row gt_right" headers="n">22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="SANITATION">Water borne sewer</td>
<td class="gt_row gt_right" headers="n">1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<pre><code></code></pre>
<p><br>
The <code>echo: false</code> option disables the printing of code (only output is displayed).</p>
<p>The extension of basic sanitation services to previously unserved informal settlements has been shown to yield <strong>substantial improvements in health and living conditions</strong>. Empirical studies in South Africa demonstrate that access to sanitation significantly reduces exposure to faecal contamination, lowers the prevalence of diarrhoeal disease, and improves environmental hygiene in densely populated settlements (Graham &amp; Polizzotto, 2013; Tumwebaze &amp; Mosler, 2015). Beyond health outcomes, sanitation access contributes to improved <strong>quality of life and social wellbeing</strong>, particularly by enhancing safety, privacy, and dignity for women and children, who are disproportionately affected by inadequate sanitation (Sutherland et al., 2014).</p>
<p>Project description</p>
<p>I am using this data to categorise the services provided by the municipality within the settlements and to see if there plans to improve service delivery.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>